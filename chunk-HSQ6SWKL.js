import{a as H}from"./chunk-QJIBU3BZ.js";import{c as V,e as M,g as R,l as B,n as A}from"./chunk-R3XHQFXV.js";import"./chunk-OTWRRM26.js";import{a as $,b as N,c as T,d as j,e as k}from"./chunk-S4B2MDIS.js";import{e as F}from"./chunk-ES3DDTL4.js";import{Fb as w,Gb as I,Hb as D,Ja as x,K as p,La as m,Lb as O,Sa as n,Ta as e,Ua as b,X as _,Xa as E,Ya as v,Za as c,da as f,ea as h,fb as i,gb as l,h as g,jb as y,wa as o,xa as S,z as C}from"./chunk-XBW5HTEE.js";function L(r,s){r&1&&(n(0,"div",12)(1,"div",13)(2,"p",3),i(3,"Loading results..."),e()()())}function U(r,s){r&1&&(n(0,"div",14)(1,"p",3),i(2,"No students found matching your search criteria."),e()())}function q(r,s){if(r&1){let t=E();n(0,"tr",21)(1,"td",22),i(2),e(),n(3,"td",23),i(4),e(),n(5,"td",23),i(6),e(),n(7,"td",23),i(8),e(),n(9,"td",23),i(10),e(),n(11,"td",24),i(12),e(),n(13,"td",23)(14,"div",25)(15,"app-button",26),v("onClick",function(){let a=f(t).$implicit,u=c(2);return h(u.handleEdit(a.id))}),i(16," \u270F\uFE0F "),e(),n(17,"app-button",26),v("onClick",function(){let a=f(t).$implicit,u=c(2);return h(u.viewDetails(a.id))}),i(18," \u{1F441}\uFE0F "),e()()()()}if(r&2){let t=s.$implicit;o(2),l(t.name),o(2),l(t.branch),o(2),l(t.class),o(2),l(t.rollNo),o(2),l(t.honoursDegree),o(2),l(t.email)}}function z(r,s){if(r&1&&(n(0,"div",15)(1,"table",16)(2,"thead")(3,"tr",17)(4,"th",18),i(5,"Name"),e(),n(6,"th",18),i(7,"Branch"),e(),n(8,"th",18),i(9,"Class"),e(),n(10,"th",18),i(11,"Roll No"),e(),n(12,"th",18),i(13,"Honours"),e(),n(14,"th",18),i(15,"Email"),e(),n(16,"th",19),i(17,"Actions"),e()()(),n(18,"tbody"),x(19,q,19,6,"tr",20),e()()()),r&2){let t=c();o(19),m("ngForOf",t.filteredStudents)}}var ie=(()=>{class r{constructor(t,d){this.router=t,this.studentService=d,this.searchControl=new M(""),this.filteredStudents=[],this.loading=!1,this.destroy$=new g}ngOnInit(){this.studentService.filteredStudents$.pipe(p(this.destroy$)).subscribe(t=>{this.filteredStudents=t}),this.studentService.loading$.pipe(p(this.destroy$)).subscribe(t=>{this.loading=t}),this.searchControl.valueChanges.pipe(C(300),p(this.destroy$)).subscribe(t=>{this.studentService.searchStudents(t||"")})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}handleEdit(t){this.router.navigate(["/edit",t])}viewDetails(t){this.router.navigate(["/edit",t])}static{this.\u0275fac=function(d){return new(d||r)(S(F),S(A))}}static{this.\u0275cmp=_({type:r,selectors:[["app-search-student"]],standalone:!0,features:[y],decls:21,vars:4,consts:[[1,"container","max-w-6xl","mx-auto","px-4","py-8","page-transition"],[1,"text-center","mb-8"],[1,"text-3xl","font-bold","mb-2"],[1,"text-muted-foreground"],[1,"w-full","animate-scale-in","glass-card"],[1,"mb-6"],[1,"relative"],[1,"absolute","left-3","top-1/2","transform","-translate-y-1/2","h-4","w-4","text-muted-foreground"],["placeholder","Search by name, roll number, or email","className","pl-9",3,"formControl"],["class","flex justify-center py-8",4,"ngIf"],["class","text-center py-8",4,"ngIf"],["class","rounded-md border overflow-hidden",4,"ngIf"],[1,"flex","justify-center","py-8"],[1,"text-center"],[1,"text-center","py-8"],[1,"rounded-md","border","overflow-hidden"],[1,"w-full","text-sm"],[1,"border-b","bg-muted/50"],[1,"h-12","px-4","text-left","align-middle","font-medium"],[1,"h-12","px-4","text-right","align-middle","font-medium"],["class","border-b hover:bg-muted/50 transition-colors",4,"ngFor","ngForOf"],[1,"border-b","hover:bg-muted/50","transition-colors"],[1,"p-4","align-middle","font-medium"],[1,"p-4","align-middle"],[1,"p-4","align-middle","max-w-[200px]","truncate"],[1,"flex","justify-end","gap-2"],["variant","outline","className","h-8 w-8",3,"onClick"]],template:function(d,a){d&1&&(n(0,"div",0)(1,"div",1)(2,"h1",2),i(3,"Search Students"),e(),n(4,"p",3),i(5," Find students by name, roll number, or email "),e()(),n(6,"app-card",4)(7,"app-card-header")(8,"app-card-title"),i(9,"Search Students"),e(),n(10,"app-card-description"),i(11," Enter search terms to find specific students "),e()(),n(12,"app-card-content")(13,"div",5)(14,"div",6)(15,"span",7),i(16,"\u{1F50D}"),e(),b(17,"app-input",8),e()(),x(18,L,4,0,"div",9)(19,U,3,0,"div",10)(20,z,20,1,"div",11),e()()()),d&2&&(o(17),m("formControl",a.searchControl),o(),m("ngIf",a.loading),o(),m("ngIf",!a.loading&&a.filteredStudents.length===0),o(),m("ngIf",!a.loading&&a.filteredStudents.length>0))},dependencies:[D,w,I,B,V,R,O,H,$,N,T,j,k],encapsulation:2})}}return r})();export{ie as SearchStudentComponent};
